<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>××œ×•××™× ×™×•× ×–××¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f5f5f5;
      color: #111;
      line-height: 1.4;
    }
    a { color: inherit; text-decoration: none; }
    button { cursor: pointer; }

    header {
      background: #111827;
      color: #fff;
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      position: sticky;
      top: 0;
      z-index: 20;
      flex-wrap: wrap;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 700;
    }
    .brand-logo {
      width: 36px;
      height: 36px;
      background: #e5e7eb;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      color: #111827;
      font-weight: 800;
    }
    nav {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      font-size: 0.9rem;
    }
    nav a {
      padding: 0.25rem 0.5rem;
      border-radius: 999px;
      transition: background 0.15s;
    }
    nav a:hover {
      background: rgba(255,255,255,0.12);
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      flex-wrap: wrap;
    }
    .language-select {
      padding: 0.25rem 0.5rem;
      border-radius: 999px;
      border: 1px solid #4b5563;
      background: #111827;
      color: #fff;
      font-size: 0.85rem;
    }
    .cart-button {
      background: #10b981;
      border: none;
      color: #fff;
      padding: 0.4rem 0.8rem;
      border-radius: 999px;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .cart-count {
      background: #064e3b;
      border-radius: 999px;
      padding: 0.1rem 0.45rem;
      font-size: 0.75rem;
    }

    main {
      max-width: 1200px;
      margin: 1rem auto 2rem;
      padding: 0 1rem;
    }

    section {
      margin-bottom: 2rem;
      background: #fff;
      border-radius: 0.75rem;
      box-shadow: 0 4px 12px rgba(15,23,42,0.08);
      padding: 1rem 1.25rem 1.5rem;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .section-header h2 {
      font-size: 1.1rem;
    }
    .section-header small {
      color: #6b7280;
      font-size: 0.8rem;
    }

    .catalog-link {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
      background: #111827;
      color: #fff;
      font-size: 0.8rem;
    }

    .search-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }
    .search-row input {
      flex: 1;
      min-width: 160px;
      padding: 0.4rem 0.6rem;
      border-radius: 0.5rem;
      border: 1px solid #d1d5db;
      font-size: 0.85rem;
    }
    .search-row select {
      padding: 0.4rem 0.6rem;
      border-radius: 0.5rem;
      border: 1px solid #d1d5db;
      font-size: 0.85rem;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));
      gap: 0.75rem;
    }
    .product-card {
      border-radius: 0.75rem;
      border: 1px solid #e5e7eb;
      padding: 0.75rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      background: #f9fafb;
    }
    .product-image-placeholder {
      width: 100%;
      aspect-ratio: 4/3;
      border-radius: 0.5rem;
      background: linear-gradient(135deg,#e5e7eb,#d1d5db);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      color: #4b5563;
      text-align: center;
      padding: 0.4rem;
    }
    .product-title {
      font-size: 0.9rem;
      font-weight: 600;
    }
    .product-meta {
      font-size: 0.8rem;
      color: #4b5563;
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
    }
    .product-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.3rem;
      align-items: center;
    }
    .product-controls select,
    .product-controls input {
      font-size: 0.8rem;
      padding: 0.25rem 0.4rem;
      border-radius: 0.4rem;
      border: 1px solid #d1d5db;
    }
    .product-controls button {
      font-size: 0.8rem;
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      border: none;
      background: #10b981;
      color: #fff;
      white-space: nowrap;
    }

    .cart-panel {
      position: fixed;
      right: 0;
      top: 0;
      bottom: 0;
      width: min(360px, 100%);
      background: #111827;
      color: #f9fafb;
      transform: translateX(100%);
      transition: transform 0.2s ease-out;
      z-index: 50;
      display: flex;
      flex-direction: column;
    }
    .cart-panel.open {
      transform: translateX(0);
    }
    .cart-header {
      padding: 0.85rem;
      border-bottom: 1px solid #374151;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
    }
    .cart-header h3 {
      font-size: 1rem;
    }
    .cart-body {
      padding: 0.85rem;
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .cart-item {
      border-radius: 0.6rem;
      background: #1f2937;
      padding: 0.6rem 0.7rem;
      font-size: 0.8rem;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }
    .cart-item-top {
      display: flex;
      justify-content: space-between;
      gap: 0.5rem;
    }
    .cart-item-meta {
      color: #9ca3af;
      font-size: 0.75rem;
    }
    .cart-item-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }
    .cart-item-actions input {
      width: 60px;
      padding: 0.1rem 0.25rem;
      border-radius: 0.35rem;
      border: 1px solid #4b5563;
      background: #111827;
      color: #e5e7eb;
      font-size: 0.75rem;
      text-align: center;
    }
    .cart-item-actions button {
      border: none;
      background: #b91c1c;
      color: #fee2e2;
      border-radius: 999px;
      padding: 0.2rem 0.6rem;
      font-size: 0.75rem;
    }

    .cart-footer {
      border-top: 1px solid #374151;
      padding: 0.85rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      font-size: 0.8rem;
    }
    .cart-footer textarea {
      width: 100%;
      min-height: 60px;
      border-radius: 0.5rem;
      border: 1px solid #4b5563;
      background: #111827;
      color: #f9fafb;
      font-size: 0.78rem;
      padding: 0.4rem;
      resize: vertical;
    }
    .cart-summary-line {
      display: flex;
      justify-content: space-between;
      gap: 0.5rem;
    }
    .checkout-btn {
      margin-top: 0.25rem;
      width: 100%;
      border-radius: 999px;
      border: none;
      background: #10b981;
      color: #022c22;
      font-weight: 600;
      padding: 0.4rem 0.75rem;
      font-size: 0.88rem;
    }

    .checkout-grid {
      display: grid;
      grid-template-columns: minmax(0,1.2fr) minmax(0,1fr);
      gap: 1rem;
    }
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      .checkout-grid {
        grid-template-columns: 1fr;
      }
    }

    .form-field {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      margin-bottom: 0.6rem;
      font-size: 0.85rem;
    }
    .form-field input,
    .form-field textarea {
      padding: 0.4rem 0.6rem;
      border-radius: 0.5rem;
      border: 1px solid #d1d5db;
      font-size: 0.85rem;
    }
    .form-inline {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.8rem;
    }
    .form-inline input[type="checkbox"] {
      width: 16px;
      height: 16px;
    }
    .checkout-primary-btn {
      margin-top: 0.4rem;
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      border: none;
      background: #111827;
      color: #fff;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .order-preview {
      background: #f9fafb;
      border-radius: 0.75rem;
      border: 1px dashed #d1d5db;
      padding: 0.6rem 0.7rem;
      font-size: 0.78rem;
      max-height: 260px;
      overflow-y: auto;
      white-space: pre-wrap;
    }

    .contact-list {
      list-style: none;
      font-size: 0.85rem;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }
    .contact-list a {
      color: #2563eb;
      font-weight: 500;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      font-size: 0.75rem;
      padding: 0.15rem 0.55rem;
      border-radius: 999px;
      background: #e5e7eb;
      color: #374151;
    }
  </style>

  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>
    (function() {
      emailjs.init("BksoAcl-qfhPV2rmc");
    })();
  </script>
</head>
<body>
  <header>
    <div class="brand">
      <div class="brand-logo">AZ</div>
      <div>
        <div id="brandTitle">××œ×•××™× ×™×•× ×–××¨</div>
        <div style="font-size:0.75rem;color:#9ca3af" id="brandSubtitle">
          ×¤×¨×•×¤×™×œ×™ ×§×œ×™×œ, ×ª×¨×™×¡×™× ×•××¢×¨×›×•×ª ××œ×•××™× ×™×•×
        </div>
      </div>
    </div>
    <nav>
      <a href="#products" id="navProducts">××•×¦×¨×™×</a>
      <a href="#checkout" id="navCheckout">×¡×™×›×•× ×”×–×× ×”</a>
      <a href="#contact" id="navContact">×¦×•×¨ ×§×©×¨</a>
      <a href="catalog.pdf" target="_blank" id="navCatalog" class="catalog-link">
        ğŸ“˜ ×§×˜×œ×•×’ PDF
      </a>
    </nav>
    <div class="header-right">
      <select id="languageSelect" class="language-select">
        <option value="he">×¢×‘×¨×™×ª</option>
        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      </select>
      <button id="openCartBtn" class="cart-button">
        ğŸ›’ <span id="cartButtonLabel">×¡×œ ×§× ×™×•×ª</span>
        <span class="cart-count" id="cartCount">0</span>
      </button>
    </div>
  </header>

  <main>
    <!-- Products / Catalog -->
    <section id="products">
      <div class="section-header">
        <div>
          <h2 id="productsTitle">××•×¦×¨×™×</h2>
          <small id="productsSubtitle">
            ×—×™×¤×•×© ×œ×¤×™ ×©×ØŒ ××¡×¤×¨ ×§×œ×™×œ ××• ×§×˜×’×•×¨×™×”. × ×™×ª×Ÿ ×œ×”×•×¡×™×£ ×¦×‘×¢ ×•×›××•×ª ×œ×›×œ ×¤×¨×•×¤×™×œ.
          </small>
        </div>
        <div>
          <a href="catalog.pdf" target="_blank" class="catalog-link" id="catalogButton">
            ğŸ“˜ ×§×˜×œ×•×’ PDF
          </a>
        </div>
      </div>

      <div class="search-row">
        <input
          id="searchInput"
          type="text"
          placeholder="×—×™×¤×•×© ×œ×¤×™ ×©×ØŒ ××¡×¤×¨ ×§×œ×™×œ ××• ×§×˜×’×•×¨×™×”..."
        />
        <select id="categoryFilter">
          <option value="all">×›×œ ×”×§×˜×’×•×¨×™×•×ª / ÙƒÙ„ Ø§Ù„ÙØ¦Ø§Øª</option>
        </select>
      </div>

      <div class="products-grid" id="productsGrid"></div>
    </section>

    <!-- Checkout + customer details + order preview -->
    <section id="checkout">
      <div class="section-header">
        <div>
          <h2 id="checkoutTitle">×¤×¨×˜×™ ×”×–×× ×” ×•×œ×§×•×—</h2>
          <small id="checkoutSubtitle">
            ××œ× ××ª ×”×¤×¨×˜×™×ØŒ ×‘×“×•×§ ××ª ×¡×™×›×•× ×”×”×–×× ×” ×•×œ×—×¥ ×©×œ×—.
          </small>
        </div>
        <span class="pill">
          ğŸ”’ <span id="noPaymentText">××™×Ÿ ×ª×©×œ×•× ×‘××ª×¨ â€“ ×¨×§ ×©×œ×™×—×ª ×”×–×× ×”</span>
        </span>
      </div>

      <div class="checkout-grid">
        <!-- Left: customer form -->
        <div>
          <div class="form-field">
            <label for="customerName" id="labelName">×©× ××œ×</label>
            <input id="customerName" type="text" />
          </div>
          <div class="form-field">
            <label for="customerPhone" id="labelPhone">×˜×œ×¤×•×Ÿ</label>
            <input id="customerPhone" type="tel" />
          </div>
          <div class="form-field">
            <label for="customerAddress" id="labelAddress">×›×ª×•×‘×ª (×¢×™×¨ØŒ ×¨×—×•×‘ØŒ ××¡×¤×¨)</label>
            <input id="customerAddress" type="text" />
          </div>
          <div class="form-field">
            <label for="customerEmail" id="labelEmail">××™××™×™×œ (×¨×§ ×× ×ª×¨×¦×” ×¢×•×ª×§)</label>
            <input id="customerEmail" type="email" />
          </div>
          <div class="form-inline">
            <input type="checkbox" id="sendCopyCheckbox" />
            <label for="sendCopyCheckbox" id="labelSendCopy">
              ×©×œ×—×• ×œ×™ ×¢×•×ª×§ ×©×œ ×”×”×–×× ×” ×‘××™××™×™×œ
            </label>
          </div>
          <button id="submitOrderBtn" class="checkout-primary-btn">
            ğŸ“¤ <span id="submitOrderText">×©×œ×™×—×ª ×”×–×× ×”</span>
          </button>
        </div>

        <!-- Right: order preview -->
        <div>
          <div style="font-size:0.85rem;margin-bottom:0.3rem" id="previewTitle">
            ×ª×¦×•×’×” ××§×“×™××” ×©×œ ×”×”×–×× ×” (×œ×”×“×¤×¡×”)
          </div>
          <div class="order-preview" id="orderPreview">
            <span style="color:#6b7280;font-size:0.8rem" id="previewPlaceholder">
              ×”×”×–×× ×” ×ª×•×¤×™×¢ ×›××Ÿ ××—×¨×™ ×©×ª×•×¡×™×£ ××•×¦×¨×™× ×œ×¡×œ ×•×ª××œ× ××ª ×”×¤×¨×˜×™×.
            </span>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <div class="section-header">
        <div>
          <h2 id="contactTitle">×¦×•×¨ ×§×©×¨</h2>
          <small id="contactSubtitle">
            × ×©××— ×œ×¢×–×•×¨ ×‘×¡×’×™×¨×ª ×”×–×× ×”ØŒ ×”×¦×¢×ª ××—×™×¨ ×•×©××œ×•×ª ×˜×›× ×™×•×ª.
          </small>
        </div>
      </div>
      <ul class="contact-list">
        <li>
          ğŸ“ <span id="contactAddress">
            ×™××¡×™×Ÿ ×’×œ××œ ××œ×•××™× ×™×•× ×•×§×©×ª×•×ª ×–××¨
          </span>
        </li>
        <li>
          â˜ï¸ <span id="contactPhoneLabel">×˜×œ×¤×•×Ÿ:</span>
          <a href="tel:098743896">098-743896</a>
        </li>
        <li>
          ğŸš— <a
            id="contactWaze"
            href="https://waze.com/ul?q=%D7%99%D7%90%D7%A1%D7%99%D7%9F%20%D7%92%D7%9C%D7%90%D7%9C%20%D7%90%D7%9C%D7%95%D7%9E%D7%99%D7%A0%D7%99%D7%95%D7%9D%20%D7%95%20%D7%A7%D7%A9%D7%AA%D7%95%D7%AA%20%D7%96%D7%9E%D7%A8"
            target="_blank"
          >
            ×¤×ª×™×—×” ×‘-Waze
          </a>
        </li>
      </ul>
    </section>
  </main>

  <!-- Cart Side Panel -->
  <aside id="cartPanel" class="cart-panel">
    <div class="cart-header">
      <h3 id="cartTitle">×¡×œ ×§× ×™×•×ª</h3>
      <button id="closeCartBtn" style="background:none;border:none;color:#e5e7eb;font-size:1.1rem;">
        âœ•
      </button>
    </div>
    <div id="cartBody" class="cart-body">
      <div id="cartEmptyText" style="font-size:0.8rem;color:#9ca3af;">
        ×”×¡×œ ×¨×™×§. ×”×•×¡×£ ××•×¦×¨×™× ××ª×•×š ×”×¨×©×™××”.
      </div>
    </div>
    <div class="cart-footer">
      <div class="cart-summary-line">
        <span id="cartItemsLabel">×¡×”×´×› ×¤×¨×™×˜×™×:</span>
        <span id="cartItemsCount">0</span>
      </div>
      <div class="cart-summary-line">
        <span id="cartNoteLabel">×”×¢×¨×•×ª ×œ×”×–×× ×”:</span>
      </div>
      <textarea id="cartNotes"></textarea>
      <button id="goToCheckoutBtn" class="checkout-btn">
        âœ <span id="goToCheckoutText">×”××©×š ×œ×¤×¨×˜×™ ×”×–×× ×”</span>
      </button>
    </div>
  </aside>

  <script>
    // Products data (ALL current products)
    const products = [
      // -------- ×‘×¡×™×¡ / ×›×œ×œ×™ --------
      { id: "2084", name: "×¤×œ×— 40/8",      klilNumber: "2084", category: "×¤×œ×—×™×" },
      { id: "2034", name: "×¤×œ×— 40/10",     klilNumber: "2034", category: "×¤×œ×—×™×" },
      { id: "0295", name: "×¨×™×‘×•×¢ 40/40/3", klilNumber: "0295", category: "×¨×™×‘×•×¢×™×" },
      { id: "0101", name: "×–×•×™×ª 20/20/2",  klilNumber: "0101", category: "×–×•×™×•×ª" },
      // -------- ×¡×“×¨×” 1700 --------
      { id: "3699", name: "×¤×™ ×× ×•×§×‘ ×œ×ª×¨×™×¡ ×©×œ×‘ 8",          klilNumber: "3699", category: "1700" },
      { id: "4901", name: "×›× ×£ ×¦×“",                        klilNumber: "4901", category: "1700" },
      { id: "4902", name: "×›× ×£ ×©×•×œ×‘ ×œ×–×›×•×›×™×ª ×‘×™×˜×—×•×Ÿ",       klilNumber: "4902", category: "1700" },
      { id: "4903", name: "×›× ×£ ×¢×œ×™×•× ×” + ×ª×—×ª×•× ×”",           klilNumber: "4903", category: "1700" },
      { id: "4904", name: "××–×•×–×”+×”×œ×‘×©×” ×œ×›× ×£ ×—×™×¦×•× ×™×ª",     klilNumber: "4904", category: "1700" },
      { id: "4905", name: "××–×•×–×”+×”×œ×‘×©×” ×œ×›× ×£ ×¤× ×™××™×ª",      klilNumber: "4905", category: "1700" },
      { id: "4906", name: "××¡×™×œ×” ×¢×œ×™×•× ×”+×”×œ×‘×©×” 2 × ×ª",      klilNumber: "4906", category: "1700" },
      { id: "4907", name: "××¡×™×œ×” ×ª×—×ª×•× ×”+×”×œ×‘×©×” 2 × ×ª",      klilNumber: "4907", category: "1700" },
      { id: "4908", name: "××¡×™×œ×” ×ª×—×ª×•× ×”+×”×œ×‘×©×”+×¨×©×ª 2 × ×ª",  klilNumber: "4908", category: "1700" },
      { id: "4909", name: "××–×•×–×” ×œ×œ× ×”×œ×‘×©×” ×œ×›× ×£ ×—×™×¦×•× ×™×ª", klilNumber: "4909", category: "1700" },
      { id: "4910", name: "××–×•×–×” ×œ×œ× ×”×œ×‘×©×” ×œ×›× ×£ ×¤× ×™××™×ª",  klilNumber: "4910", category: "1700" },
      { id: "4911", name: "××¡×™×œ×” ×¢×œ×™×•× ×” ×‘×œ×™ ×”×œ×‘×©×” 2 × ×ª",  klilNumber: "4911", category: "1700" },
      { id: "4912", name: "××¡×™×œ×” ×ª×—×ª×•× ×” ×‘×œ×™ ×”×œ×‘×©×” 2 × ×ª",  klilNumber: "4912", category: "1700" },
      { id: "4913", name: "××¡×™×œ×” ×ª×—×ª×•× ×” ×‘×œ×™ ×”×œ×‘×©×”+×¨×©×ª",   klilNumber: "4913", category: "1700" },
      { id: "4914", name: "××–×•×–×” ××•×¨×—×§×ª ×œ×›× ×£ ×—×™×¦×•× ×™×ª",    klilNumber: "4914", category: "1700" },
     { id: "4915B", name: "××–×•×–×” ××•×¨×—×§×ª ×œ×›× ×£ ×¤× ×™××™×ª", klilNumber: "4915", category: "1700" },
{ id: "4916", name: "×ª×¤×¡ ×œ××¨×—×§×™×” ×‘××–×•×–×” ××•×¨×—×§×ª", klilNumber: "4916", category: "1700" },
{ id: "4917", name: "××¡×™×œ×” ×¢×œ×™×•× ×” 2 × ×ª×™×‘×™×", klilNumber: "4917", category: "1700" },
{ id: "4918", name: "××¡.×—. 2 × ×ª×™×‘×™× + ×§× ×˜ ×œ×¨×©×ª ××¢×‘×¨ ×œ×§×‘×•×¢", klilNumber: "4918", category: "1700" },
{ id: "4919", name: "×§×‘×•×¢ ×ª×—×ª×•×Ÿ", klilNumber: "4919", category: "1700" },
{ id: "4920", name: "×§×‘×•×¢ ×¦×“", klilNumber: "4920", category: "1700" },
{ id: "4923", name: "××–×•×–×” 3 × ×ª×™×‘×™× ×¢× ×©×ª×œ", klilNumber: "4923", category: "1700" },
{ id: "4924", name: "××¡×™×œ×” ×¢×œ×™×•× ×” 3 × ×ª×™×‘×™×", klilNumber: "4924", category: "1700" },
{ id: "4925", name: "××¡×™×œ×” ×ª×—×ª×•× ×” 3 × ×ª×™×‘×™×", klilNumber: "4925", category: "1700" },
{ id: "4927", name: "×ª×¤×¡ ×œ××¨×—×§×™×” ×‘××–×•×–×” ××•×¨×—×§×ª 3 × ×ª", klilNumber: "4927", category: "1700" },
{ id: "4929", name: "×›× ×£ ×©×•×œ×‘ ××—×•×–×§", klilNumber: "4929", category: "1700" },
{ id: "4930", name: "×›× ×£ ×©×•×œ×‘ ××—×•×–×§ ×œ×‘×™×“×•×“×™×ª", klilNumber: "4930", category: "1700" },
{ id: "4931", name: "×›× ×£ ×¦×“ ×œ×‘×™×“×•×“×™×ª", klilNumber: "4931", category: "1700" },
{ id: "4932", name: "×›× ×£ ×©×•×œ×‘ ×œ×‘×™×“×•×“×™×ª", klilNumber: "4932", category: "1700" },
{ id: "4933", name: "×›× ×£ ×¢×œ×™×•×Ÿ/×ª×—×ª×•×Ÿ ×œ×‘×™×“×•×“×™×ª", klilNumber: "4933", category: "1700" },
{ id: "4926", name: "××–×•×–×” ××•×¨×—×§×ª 3 × ×ª×™×‘×™×", klilNumber: "4926", category: "1700" },
{ id: "4939", name: "××¡×™×œ×” ×¢×œ×™×•× ×” + ×ª×—×ª×•× ×” 2 × ×ª×™×‘×™×", klilNumber: "4939", category: "1700" },

      
      // -------- ×ª×¨×™×¡ ×”×–×–×” â€“ ×‘×œ×•×§ ×¨××©×•×Ÿ --------
      { id: "5230", name: "×¤×™ ×œ×ª×¨×™×¡ ×œ×©×œ×‘ 1200",                  klilNumber: "5230", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0001", name: "×©×¤×¨×•×¥ ×× ×›×™ ×œ×ª×¨×™×¡",               klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "999",  name: "×©×œ×‘ 8 ××•×§×¦×£",                         klilNumber: "999",  category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4215", name: "×—×¦×™×¥ ×¦×¨ 28/28 ×œ×ª×¨×™×¡",                  klilNumber: "4215", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "60041",name: "×©×¤×¨×•×¥ ×ª×¨×™×¡ ××•×¤×§×™",                    klilNumber: "60041",category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0891", name: "×¢×œ×™×•×Ÿ ×ª×¨×™×¡ 27*44",                    klilNumber: "0891", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0894", name: "×›× ×£ ×¢×œ×™×•×Ÿ ×ª×¨×™×¡ 44/27",                klilNumber: "0894", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0897", name: "×¢×¨×‘×™ ×—×•×¤×£ 43.6/27",                   klilNumber: "0897", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1765", name: "××©×§×•×£",                               klilNumber: "1765", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1938", name: "×ª×¨×™×¡ ×ª×—×ª×•×Ÿ/×¢×œ×™×•×Ÿ",                    klilNumber: "1938", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3797", name: "××¡×™×œ×” ×¢×œ×™×•× ×” ×œ×ª×¨×™×¡ ×‘×•×“×“×ª",            klilNumber: "3797", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3823", name: "××¡×™×œ×ª ×¦×“ ×‘×•×“×“×ª ×œ×ª×¨×™×¡",               klilNumber: "3823", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0002", name: "××¡×™×œ×ª ×¦×“ × ×ª×™×‘ ××—×“",             klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1492", name: "××¡×™×œ×ª ×˜×™ ××•×‘×™×œ ×ª×—×ª×•× ×”",               klilNumber: "1492", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1825", name: "××©×§×•×£ 27/27",                         klilNumber: "1825", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3675", name: "×¤×™ ××œ×•××™× ×™×•× ×§×˜×Ÿ",                    klilNumber: "3675", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3835", name: "×¤×™ ×œ×ª×¨×™×¡",                            klilNumber: "3835", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4254", name: "×©×œ×‘ ×ª×¨×™×¡",                            klilNumber: "4254", category: "×ª×¨×™×¡ ×”×–×–×”" },

      // -------- ×ª×¨×™×¡ ×”×–×–×” â€“ ×˜×‘×œ×” (---|---) --------
      { id: "0262", name: "×©×¤×¨×•×¥ ×ª×¨×™×¡ ×—×œ×§ 28/28",                klilNumber: "0262", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0580", name: "×©×¤×¨×•×¥ ×ª×¨×™×¡ 28/28",                    klilNumber: "0580", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "2681", name: "×©×¤×¨×•×¥ ×ª×¨×™×¡ 28/28",                    klilNumber: "2681", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0583", name: "×›× ×£ ×ª×¨×™×¡ ×¢×œ×™×•×Ÿ/×¦×“ 44/28",             klilNumber: "0583", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0581", name: "×›× ×£ ×ª×¨×™×¡ ×¦×“ + ×’×•××™ 44/28",            klilNumber: "0581", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0589", name: "×›× ×£ ×ª×¨×™×¡",                            klilNumber: "0589", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1074", name: "××¡×™×œ×” ×ª×—×ª×•× ×” 3 × ×ª×™×‘×™×",               klilNumber: "1074", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1070", name: "××¡×™×œ×” ×¢×œ×™×•× ×” 2 × ×ª×™×‘×™×",               klilNumber: "1070", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1071", name: "××¡×™×œ×” ×¢×œ×™×•× ×” 3 × ×ª×™×‘×™×",               klilNumber: "1071", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1734", name: "×©×œ×‘ 8 ×œ×ª×¨×™×¡ ×”×–×–×”",                    klilNumber: "1734", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "60121",name: "××©×§×•×£ ×¦×“ ×‘×•×“×“",                       klilNumber: "60121",category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1073", name: "××¡×™×œ×” ×ª×—×ª×•× ×” 2 × ×ª×™×‘×™×",               klilNumber: "1073", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "2317", name: "××¡×™×œ×” ×œ×ª×¨×™×¡ × ×ª×™×‘ ××—×“",                klilNumber: "2317", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0582", name: "×›× ×£ ×ª×¨×™×¡ ×ª×—×ª×•×Ÿ + ×§× ×˜ 44/28",          klilNumber: "0582", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0892", name: "×ª×¨×™×¡ ×ª×—×ª×•×Ÿ/×¢×œ×™×•×Ÿ",                    klilNumber: "0892", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0895", name: "×©×¤×¨×•×¥ ×¨×•×—×‘ 28/28",                    klilNumber: "0895", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0860", name: "×›× ×£ ×¦×“ ×ª×¨×™×¡ 43/28",                   klilNumber: "0860", category: "×ª×¨×™×¡ ×”×–×–×”" },

      // -------- ×ª×¨×™×¡ ×”×–×–×” â€“ ×‘×œ×•×§ × ×•×¡×£ (0859...) --------
      { id: "0859", name: "×©×¤×¨×•×¥ 28/28",                         klilNumber: "0859", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3704", name: "×›× ×£ ×ª×¨×™×¡ ×¢×œ×™×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’",          klilNumber: "3704", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3705", name: "×›× ×£ ×ª×—×ª×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’ + ×§× ×˜ 43/24",    klilNumber: "3705", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "2974", name: "×›× ×£ ×ª×¨×™×¡ + ×’×•××™ 43/28",               klilNumber: "2974", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1075", name: "××¡×™×œ×” ×ª×—×ª×•× ×” 4 × ×ª×™×‘×™×",               klilNumber: "1075", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "1072", name: "××¡×™×œ×” ×¢×œ×™×•× ×” 4 × ×ª×™×‘×™×",               klilNumber: "1072", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "6029", name: "×›× ×£ ×¦×“ ×œ×ª×¨×™×¡ ×‘×•×¨×’ ×œ×¡×’×¨×™× ×©×œ 7000",    klilNumber: "6029", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3204", name: "×›× ×£ ×ª×¨×™×¡ ×¦×“ × ×•×©×§",                    klilNumber: "3204", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "91090",name: "××¤×’×© ×ª×¨×™×¡",                           klilNumber: "91090",category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3829", name: "×›× ×£ ×ª×¨×™×¡ ×¢×œ×™×•×Ÿ",                      klilNumber: "3829", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3828", name: "×›× ×£ ×ª×—×ª×•×Ÿ ×œ×ª×¨×™×¡",                     klilNumber: "3828", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "2693", name: "×¤×™ ×œ×ª×¨×™×¡ ×œ×©×œ×‘ 8",                     klilNumber: "2693", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "2008", name: "×¤×œ×— ×× ×•×§×‘ ×œ×©×œ×‘ 8",                    klilNumber: "2008", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4863", name: "×©×œ×‘ ×ª×¨×™×¡ ×”×–×–×”",                       klilNumber: "4863", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3660", name: "×›× ×£ ×ª×¨×™×¡ - ×¢×œ×™×•×Ÿ/×ª×—×ª×•×Ÿ",             klilNumber: "3660", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4767", name: "×›× ×£ ×¦×“ ×œ×ª×¨×™×¡",                        klilNumber: "4767", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3466", name: "×¤×™ ×œ×ª×¨×™×¡",                            klilNumber: "3466", category: "×ª×¨×™×¡ ×”×–×–×”" },

      // -------- ×ª×¨×™×¡ ×”×–×–×” â€“ ×©××•×ª + ××¡×¤×¨×™× (×¤×™ ×¤×œ×¡×˜×™×§...) --------
      { id: "TRSZ-0101", name: "×¤×™ ×¤×œ×¡×˜×™×§",                      klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0102", name: "×©×˜×•×— ×× ×•×§×‘",                     klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0103", name: "×©×œ×‘ 8 ×¤×œ×¡×˜×™×§ ×œ×ª×¨×™×¡ ×”×–×–×”",       klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4862",      name: "×©×œ×‘ ×ª×¨×™×¡ ×”×–×–×”",                  klilNumber: "4862", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4282",      name: "×©×œ×‘ ×•×™×¡×•×ª ×œ×ª×¨×™×¡",                klilNumber: "4282", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4705",      name: "× ×’×“×™ ×œ× ×•×©×§",                     klilNumber: "4705", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "9990",      name: "×©×œ×‘ 8 ××•×§×¦×£",                    klilNumber: "9990", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "888",       name: "×©×œ×‘ 8 ×¤×œ×¡×˜×™×§",                   klilNumber: "888",  category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3798",      name: "××¡×™×œ×” ×¢×œ×™×•× ×” ×œ×ª×¨×™×¡ 2 × ×ª×™×‘×™×",   klilNumber: "3798", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3799",      name: "××¡×™×œ×” ×¢×œ×™×•× ×” ×œ×ª×¨×™×¡ 3 × ×ª×™×‘×™×",   klilNumber: "3799", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0104", name: "×ª×¨×™×¡ ×‘×•×¨×’ ×ª×—×ª×•×Ÿ",                klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0105", name: "×ª×¨×™×¡ ×‘×•×¨×’ ×¢×œ×™×•×Ÿ",                klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0106", name: "×¦×“ ×›×™×¡ ×œ×ª×¨×™×¡ ×‘×•×¨×’",              klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0107", name: "×›×™×¡ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 2 × ×ª×™×‘×™×",       klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0108", name: "×¦×“ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 2 × ×ª×™×‘×™×",        klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0109", name: "×¢×œ×™×•×Ÿ ×›×™×¡ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 3 × ×ª×™×‘×™×", klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0110", name: "×¦×“ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 3 × ×ª×™×‘×™×",        klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },

      // -------- ×ª×¨×™×¡ ×”×–×–×” â€“ ×‘×œ×•×§ (×¢×œ×™×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 3 × ×ª×™×‘×™×...) --------
      { id: "TRSZ-0201", name: "×¢×œ×™×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 3 × ×ª×™×‘×™×",     klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0202", name: "×ª×—×ª×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 3 × ×ª×™×‘×™×",     klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0203", name: "×¢×œ×™×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 2 × ×ª×™×‘×™×",     klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0204", name: "×ª×—×ª×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’ 2 × ×ª×™×‘×™×",     klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0205", name: "××©×§×•×£ ×ª×œ×™×” ×¢×œ×™×•×Ÿ ××¡×œ×•×œ 1 ×œ×ª.×”×–×–×”", klilNumber: "0", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3985",      name: "××¡×™×œ×” ×¢×œ×™×•× ×” ×—×œ×§×” - ×‘×•×“×“×ª",     klilNumber: "3985", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "3981",      name: "××¡×™×œ×” ×ª×—×ª×•× ×” ×‘×•×“×“×ª",             klilNumber: "3981", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4217",      name: "×©×•×œ×‘ ×¢× ×’×•××™ ×œ×ª×¨×™×¡",             klilNumber: "4217", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "0579",      name: "×›× ×£ ×ª×¨×™×¡ ×—×œ×§",                   klilNumber: "0579", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4161",      name: "×©×¤×¨×•×¥ ××•×¤×§×™ ×œ×ª×¨×™×¡",              klilNumber: "4161", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "4168",      name: "×©×¤×¨×•×¥ ×—×œ×§ ×ª×¨×™×¡ ××™×’×•× ×™ 28/28",   klilNumber: "4168", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "6300",      name: "×›× ×£ ×¢×œ×™×•× ×” ×œ×ª×¨×™×¡",               klilNumber: "6300", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "6298",      name: "×›× ×£ ×ª×—×ª×•× ×” ×œ×ª×¨×™×¡ ×œ×’×œ×’×œ 7000",   klilNumber: "6298", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "6299",      name: "×—×¦×™×¥ ×× ×›×™ ×œ×ª×¨×™×¡",                klilNumber: "6299", category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0206", name: "×¤×œ×— ×× ×•×§×‘ ×œ×ª×¨×™×¡ ×”×–×–×”",           klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0207", name: "×©×œ×‘ ×ª×¨×™×¡ ×”×–×–×”",                  klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0208", name: "×›× ×£ ×ª×—×ª×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’",           klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },

      // -------- ×ª×¨×™×¡ ×”×–×–×” â€“ ×‘×œ×•×§ ××—×¨×•×Ÿ (0 / ×›× ×£ ×¢×œ×™×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’...) --------
      { id: "TRSZ-0301", name: "×›× ×£ ×¢×œ×™×•×Ÿ ×œ×ª×¨×™×¡ ×‘×•×¨×’",           klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0302", name: "×›× ×£ ×¦×“ ×œ×ª×¨×™×¡",                   klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0303", name: "×ª×•×¡×¤×ª P ×œ×ª×¨×™×¡",                  klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" },
      { id: "TRSZ-0304", name: "×¡×•×’×¨ ×ª×—×ª×•×Ÿ ×œ×¨×¤×¤×ª ×ª×¨×™×¡",          klilNumber: "0",    category: "×ª×¨×™×¡ ×”×–×–×”" }
    ];
   
    

    const colors = {
      he: [
        { value: "×©×—×•×¨", label: "×©×—×•×¨" },
        { value: "×œ×‘×Ÿ",  label: "×œ×‘×Ÿ" },
        { value: "××©×™",  label: "××©×™" },
        { value: "×§×¨×",  label: "×§×¨×" }
      ],
      ar: [
        { value: "×©×—×•×¨", label: "Ø£Ø³ÙˆØ¯" },
        { value: "×œ×‘×Ÿ",  label: "Ø£Ø¨ÙŠØ¶" },
        { value: "××©×™",  label: "Ù…ÙŠØ´ÙŠ" },
        { value: "×§×¨×",  label: "ÙƒØ±ÙŠÙ…" }
      ]
    };

    let currentLang = "he";
    let cart = [];

    const t = {
      he: {
        brandTitle: "××œ×•××™× ×™×•× ×–××¨",
        brandSubtitle: "×¤×¨×•×¤×™×œ×™ ×§×œ×™×œ, ×ª×¨×™×¡×™× ×•××¢×¨×›×•×ª ××œ×•××™× ×™×•×",
        navProducts: "××•×¦×¨×™×",
        navCheckout: "×¡×™×›×•× ×”×–×× ×”",
        navContact: "×¦×•×¨ ×§×©×¨",
        navCatalog: "×§×˜×œ×•×’ PDF",
        productsTitle: "××•×¦×¨×™×",
        productsSubtitle:
          "×—×™×¤×•×© ×œ×¤×™ ×©×, ××¡×¤×¨ ×§×œ×™×œ ××• ×§×˜×’×•×¨×™×”. × ×™×ª×Ÿ ×œ×”×•×¡×™×£ ×¦×‘×¢ ×•×›××•×ª ×œ×›×œ ×¤×¨×•×¤×™×œ.",
        searchPlaceholder: "×—×™×¤×•×© ×œ×¤×™ ×©×, ××¡×¤×¨ ×§×œ×™×œ ××• ×§×˜×’×•×¨×™×”...",
        categoryAll: "×›×œ ×”×§×˜×’×•×¨×™×•×ª",
        catalogButton: "×§×˜×œ×•×’ PDF",
        cartButtonLabel: "×¡×œ ×§× ×™×•×ª",
        cartTitle: "×¡×œ ×§× ×™×•×ª",
        cartEmptyText: "×”×¡×œ ×¨×™×§. ×”×•×¡×£ ××•×¦×¨×™× ××ª×•×š ×”×¨×©×™××”.",
        cartItemsLabel: "×¡×”×´×› ×¤×¨×™×˜×™×:",
        cartNoteLabel: "×”×¢×¨×•×ª ×œ×”×–×× ×”:",
        goToCheckoutText: "×”××©×š ×œ×¤×¨×˜×™ ×”×–×× ×”",
        labelName: "×©× ××œ×",
        labelPhone: "×˜×œ×¤×•×Ÿ",
        labelAddress: "×›×ª×•×‘×ª (×¢×™×¨, ×¨×—×•×‘, ××¡×³)",
        labelEmail: "××™××™×™×œ (×¨×§ ×× ×ª×¨×¦×” ×¢×•×ª×§)",
        labelSendCopy: "×©×œ×—×• ×œ×™ ×¢×•×ª×§ ×©×œ ×”×”×–×× ×” ×‘××™××™×™×œ",
        checkoutTitle: "×¤×¨×˜×™ ×”×–×× ×” ×•×œ×§×•×—",
        checkoutSubtitle: "××œ× ××ª ×”×¤×¨×˜×™×, ×‘×“×•×§ ××ª ×¡×™×›×•× ×”×”×–×× ×” ×•×œ×—×¥ ×©×œ×—.",
        noPaymentText: "××™×Ÿ ×ª×©×œ×•× ×‘××ª×¨ â€“ ×¨×§ ×©×œ×™×—×ª ×”×–×× ×”",
        submitOrderText: "×©×œ×™×—×ª ×”×–×× ×”",
        previewTitle: "×ª×¦×•×’×” ××§×“×™××” ×©×œ ×”×”×–×× ×” (×œ×”×“×¤×¡×”)",
        previewPlaceholder:
          "×”×”×–×× ×” ×ª×•×¤×™×¢ ×›××Ÿ ××—×¨×™ ×©×ª×•×¡×™×£ ××•×¦×¨×™× ×œ×¡×œ ×•×ª××œ× ××ª ×”×¤×¨×˜×™×.",
        contactTitle: "×¦×•×¨ ×§×©×¨",
        contactSubtitle:
          "× ×©××— ×œ×¢×–×•×¨ ×‘×¡×’×™×¨×ª ×”×–×× ×”, ×”×¦×¢×ª ××—×™×¨ ×•×©××œ×•×ª ×˜×›× ×™×•×ª.",
        contactAddress: "×™××¡×™×Ÿ ×’×œ××œ ××œ×•××™× ×™×•× ×•×§×©×ª×•×ª ×–××¨",
        contactPhoneLabel: "×˜×œ×¤×•×Ÿ:",
        contactWaze: "×¤×ª×™×—×” ×‘-Waze",
        addToCart: "×”×•×¡×£ ×œ×¡×œ",
        quantity: "×›××•×ª",
        colorLabel: "×¦×‘×¢",
        remove: "×”×¡×¨",
        validationCartEmpty: "×”×¡×œ ×¨×™×§, ×× × ×”×•×¡×£ ×œ×¤×—×•×ª ××•×¦×¨ ××—×“.",
        validationName: "×× × ×”×›× ×¡ ×©× ××œ×.",
        validationPhone: "×× × ×”×›× ×¡ ×˜×œ×¤×•×Ÿ.",
        validationAddress: "×× × ×”×›× ×¡ ×›×ª×•×‘×ª.",
        orderSuccessBody:
          "×”×”×–×× ×” ×”×•×›× ×” ×•× ×©×œ×—×”. ××¤×©×¨ ×’× ×œ×”×“×¤×™×¡ ××• ×œ×”×¢×ª×™×§ ××ª ×”×˜×§×¡×˜ ××”×ª×¦×•×’×” ×”××§×“×™××”.",
        orderErrorBody:
          "×”×™×™×ª×” ×‘×¢×™×” ×‘×©×œ×™×—×ª ×”×”×–×× ×”. ××¤×©×¨ ×œ×”×¢×ª×™×§ ××ª ×”×˜×§×¡×˜ ×•×œ×©×œ×•×— ×™×“× ×™×ª ×‘×™× ×ª×™×™×.",
        orderSubject: (orderId) => `×”×–×× ×” ×—×“×©×” #${orderId} ×××œ×•××™× ×™×•× ×–××¨`
      },
      ar: {
        brandTitle: "Ø£Ù„Ù…Ù†ÙŠÙˆÙ… Ø²Ù…Ø±",
        brandSubtitle: "Ø¨Ø±ÙˆÙÙŠÙ„Ø§Øª ÙƒÙ„ÙŠÙ„ØŒ Ø´Ø¨Ø§Ø¨ÙŠÙƒ ÙˆØ£Ù†Ø¸Ù…Ø© Ø£Ù„Ù…Ù†ÙŠÙˆÙ…",
        navProducts: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
        navCheckout: "Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨",
        navContact: "Ø§ØªØµÙ„ Ø¨Ù†Ø§",
        navCatalog: "ÙƒØªØ§Ù„ÙˆØ¬ PDF",
        productsTitle: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
        productsSubtitle:
          "Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø±Ù‚Ù… ÙƒÙ„ÙŠÙ„ Ø£Ùˆ Ø§Ù„ÙØ¦Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„ÙƒÙ…ÙŠØ© Ù„ÙƒÙ„ Ø¨Ø±ÙˆÙÙŠÙ„.",
        searchPlaceholder: "Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø±Ù‚Ù… ÙƒÙ„ÙŠÙ„ Ø£Ùˆ Ø§Ù„ÙØ¦Ø©...",
        categoryAll: "ÙƒÙ„ Ø§Ù„ÙØ¦Ø§Øª",
        catalogButton: "ÙƒØªØ§Ù„ÙˆØ¬ PDF",
        cartButtonLabel: "Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡",
        cartTitle: "Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡",
        cartEmptyText: "Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©. Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.",
        cartItemsLabel: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø·Ø¹:",
        cartNoteLabel: "Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨:",
        goToCheckoutText: "Ù…ØªØ§Ø¨Ø¹Ø© Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†",
        labelName: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„",
        labelPhone: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",
        labelAddress: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø¨Ù„Ø¯ØŒ Ø´Ø§Ø±Ø¹ØŒ Ø±Ù‚Ù…)",
        labelEmail: "Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ (ÙÙ‚Ø· Ø¥Ø°Ø§ Ø¨Ø¯Ùƒ Ù†Ø³Ø®Ø©)",
        labelSendCopy: "Ø§Ø¨Ø¹ØªÙˆÙ„ÙŠ Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ø·Ù„Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„",
        checkoutTitle: "Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø²Ø¨ÙˆÙ†",
        checkoutSubtitle: "Ø¹Ø¨Ù‘ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø±Ø§Ø¬Ø¹ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ø¶ØºØ· Ø¥Ø±Ø³Ø§Ù„.",
        noPaymentText: "Ù…Ø§ ÙÙŠ Ø¯ÙØ¹ Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹ â€“ ÙÙ‚Ø· Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨",
        submitOrderText: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨",
        previewTitle: "Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø·Ù„Ø¨ (Ù„Ù„Ù€Ø·Ø¨Ø§Ø¹Ø©)",
        previewPlaceholder:
          "Ø§Ù„Ø·Ù„Ø¨ Ø±Ø­ ÙŠØ¨ÙŠÙ† Ù‡ÙˆÙ† Ø¨Ø¹Ø¯ Ù…Ø§ ØªØ¶ÙŠÙ Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø³Ù„Ø© ÙˆØªØ¹Ø¨Ù‘ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.",
        contactTitle: "Ø§ØªØµÙ„ Ø¨Ù†Ø§",
        contactSubtitle:
          "Ù…Ù†Ø³ØªÙ†Ù‰ Ù…ÙƒØ§Ù„Ù…ØªÙƒ Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±ØŒ ØªØ³Ø¹ÙŠØ± Ø£Ùˆ Ù…Ø³Ø§Ø¹Ø¯Ø© ØªÙ‚Ù†ÙŠØ©.",
        contactAddress: "ÙŠØ§Ø³ÙŠÙ† Ø¬Ù„Ø§Ù„ Ø£Ù„Ù…Ù†ÙŠÙˆÙ… ÙˆÙ‚Ù†Ø§Ø·Ø± Ø²Ù…Ø±",
        contactPhoneLabel: "Ù‡Ø§ØªÙ:",
        contactWaze: "ÙØªØ­ ÙÙŠ Waze",
        addToCart: "Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©",
        quantity: "Ø§Ù„ÙƒÙ…ÙŠØ©",
        colorLabel: "Ø§Ù„Ù„ÙˆÙ†",
        remove: "Ø­Ø°Ù",
        validationCartEmpty: "Ø§Ù„Ø³Ù„Ø© ÙØ§Ø¶ÙŠØ©ØŒ Ø¶ÙŠÙ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯.",
        validationName: "Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„.",
        validationPhone: "Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ.",
        validationAddress: "Ø§ÙƒØªØ¨ Ø¹Ù†ÙˆØ§Ù†Ùƒ.",
        orderSuccessBody:
          "ØªÙ… ØªØ¬Ù‡ÙŠØ² ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨. ØªÙ‚Ø¯Ø± ÙƒÙ…Ø§Ù† ØªØ·Ø¨Ø¹Ù‡ Ø£Ùˆ ØªÙ†Ø³Ø®Ù‡ Ù…Ù† Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©.",
        orderErrorBody:
          "ØµØ§Ø± ÙÙŠ Ù…Ø´ÙƒÙ„Ø© Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨. ÙÙŠÙƒ ØªÙ†Ø³Ø® Ø§Ù„Ù†Øµ ÙˆØªØ¨Ø¹ØªÙˆ ÙŠØ¯ÙˆÙŠ Ø­Ø§Ù„ÙŠØ§Ù‹.",
        orderSubject: (orderId) => `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ #${orderId} Ù…Ù† Ø£Ù„Ù…Ù†ÙŠÙˆÙ… Ø²Ù…Ø±`
      }
    };

    const $ = (id) => document.getElementById(id);

    const els = {
      brandTitle: $("brandTitle"),
      brandSubtitle: $("brandSubtitle"),
      navProducts: $("navProducts"),
      navCheckout: $("navCheckout"),
      navContact: $("navContact"),
      navCatalog: $("navCatalog"),
      productsTitle: $("productsTitle"),
      productsSubtitle: $("productsSubtitle"),
      searchInput: $("searchInput"),
      categoryFilter: $("categoryFilter"),
      catalogButton: $("catalogButton"),
      cartButtonLabel: $("cartButtonLabel"),
      cartCount: $("cartCount"),
      cartPanel: $("cartPanel"),
      openCartBtn: $("openCartBtn"),
      closeCartBtn: $("closeCartBtn"),
      cartTitle: $("cartTitle"),
      cartBody: $("cartBody"),
      cartItemsLabel: $("cartItemsLabel"),
      cartItemsCount: $("cartItemsCount"),
      cartNoteLabel: $("cartNoteLabel"),
      goToCheckoutBtn: $("goToCheckoutBtn"),
      goToCheckoutText: $("goToCheckoutText"),
      cartNotes: $("cartNotes"),
      productsGrid: $("productsGrid"),
      languageSelect: $("languageSelect"),
      labelName: $("labelName"),
      labelPhone: $("labelPhone"),
      labelAddress: $("labelAddress"),
      labelEmail: $("labelEmail"),
      labelSendCopy: $("labelSendCopy"),
      checkoutTitle: $("checkoutTitle"),
      checkoutSubtitle: $("checkoutSubtitle"),
      noPaymentText: $("noPaymentText"),
      submitOrderBtn: $("submitOrderBtn"),
      submitOrderText: $("submitOrderText"),
      previewTitle: $("previewTitle"),
      previewPlaceholder: $("previewPlaceholder"),
      orderPreview: $("orderPreview"),
      contactTitle: $("contactTitle"),
      contactSubtitle: $("contactSubtitle"),
      contactAddress: $("contactAddress"),
      contactPhoneLabel: $("contactPhoneLabel"),
      contactWaze: $("contactWaze"),
      customerName: $("customerName"),
      customerPhone: $("customerPhone"),
      customerAddress: $("customerAddress"),
      customerEmail: $("customerEmail"),
      sendCopyCheckbox: $("sendCopyCheckbox")
    };

    function initCategoryFilter() {
      const categories = Array.from(new Set(products.map((p) => p.category)));
      els.categoryFilter.innerHTML = "";
      const optAll = document.createElement("option");
      optAll.value = "all";
      optAll.textContent = t[currentLang].categoryAll;
      els.categoryFilter.appendChild(optAll);
      categories.forEach((cat) => {
        const o = document.createElement("option");
        o.value = cat;
        o.textContent = cat;
        els.categoryFilter.appendChild(o);
      });
    }

    function renderProducts() {
      const query = els.searchInput.value.trim().toLowerCase();
      const cat = els.categoryFilter.value;
      els.productsGrid.innerHTML = "";

      const filtered = products.filter((p) => {
        const inCat = cat === "all" || p.category === cat;
        const text = (p.name + " " + p.klilNumber + " " + p.category).toLowerCase();
        const inSearch = !query || text.includes(query);
        return inCat && inSearch;
      });

      if (filtered.length === 0) {
        const div = document.createElement("div");
        div.textContent =
          currentLang === "he"
            ? "×œ× × ××¦××• ××•×¦×¨×™× ×ª×•×××™× ×œ×—×™×¤×•×©."
            : "Ù…Ø§ ÙÙŠ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ø¨Ø­Ø«Ùƒ.";
        div.style.fontSize = "0.85rem";
        div.style.color = "#6b7280";
        els.productsGrid.appendChild(div);
        return;
      }

      filtered.forEach((p) => {
        const card = document.createElement("div");
        card.className = "product-card";

        const img = document.createElement("div");
        img.className = "product-image-placeholder";
        img.textContent =
          currentLang === "he"
            ? "×ª××•× ×” ××ª×•×š ×”×§×˜×œ×•×’ (× ×™×ª×Ÿ ×œ×¢×“×›×Ÿ ×œ×ª××•× ×” ×—×“×” ×™×•×ª×¨ ×‘×”××©×š)"
            : "ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬ (Ù…Ù…ÙƒÙ† Ù†Ø­Ø¯Ù‘Ø«Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ù„ØµÙˆØ±Ø© Ø£ÙˆØ¶Ø­)";
        card.appendChild(img);

        const title = document.createElement("div");
        title.className = "product-title";
        title.textContent = p.name;
        card.appendChild(title);

        const meta = document.createElement("div");
        meta.className = "product-meta";
        meta.innerHTML =
          "<span>" +
          (currentLang === "he" ? "××¡×¤×¨ ×§×œ×™×œ: " : "Ø±Ù‚Ù… ÙƒÙ„ÙŠÙ„: ") +
          p.klilNumber +
          "</span>" +
          "<span>" +
          (currentLang === "he" ? "×§×˜×’×•×¨×™×”: " : "Ø§Ù„ÙØ¦Ø©: ") +
          p.category +
          "</span>";
        card.appendChild(meta);

        const controls = document.createElement("div");
        controls.className = "product-controls";

        const colorLabel = document.createElement("span");
        colorLabel.style.fontSize = "0.75rem";
        colorLabel.textContent = t[currentLang].colorLabel + ":";
        controls.appendChild(colorLabel);

        const colorSelect = document.createElement("select");
        colors[currentLang].forEach((c) => {
          const opt = document.createElement("option");
          opt.value = c.value;
          opt.textContent = c.label;
          colorSelect.appendChild(opt);
        });
        controls.appendChild(colorSelect);

        const qtyLabel = document.createElement("span");
        qtyLabel.style.fontSize = "0.75rem";
        qtyLabel.textContent = t[currentLang].quantity + ":";
        controls.appendChild(qtyLabel);

        const qtyInput = document.createElement("input");
        qtyInput.type = "number";
        qtyInput.min = "1";
        qtyInput.value = "1";
        qtyInput.style.width = "60px";
        controls.appendChild(qtyInput);

        const addBtn = document.createElement("button");
        addBtn.textContent = t[currentLang].addToCart;
        addBtn.addEventListener("click", () => {
          const qty = parseInt(qtyInput.value, 10) || 1;
          addToCart(p, colorSelect.value, qty);
        });
        controls.appendChild(addBtn);

        card.appendChild(controls);
        els.productsGrid.appendChild(card);
      });
    }

    function addToCart(product, color, quantity) {
      const existing = cart.find(
        (item) => item.id === product.id && item.color === color
      );
      if (existing) {
        existing.quantity += quantity;
      } else {
        cart.push({
          id: product.id,
          name: product.name,
          klilNumber: product.klilNumber,
          category: product.category,
          color,
          quantity
        });
      }
      renderCart();
    }

    function updateCartCount() {
      const total = cart.reduce((sum, item) => sum + item.quantity, 0);
      els.cartCount.textContent = total;
      els.cartItemsCount.textContent = total;
    }

    function displayColorLabel(value) {
      const list = colors[currentLang];
      const found = list.find((c) => c.value === value);
      return found ? found.label : value;
    }

    function renderCart() {
      els.cartBody.innerHTML = "";
      if (cart.length === 0) {
        const div = document.createElement("div");
        div.style.fontSize = "0.8rem";
        div.style.color = "#9ca3af";
        div.textContent = t[currentLang].cartEmptyText;
        els.cartBody.appendChild(div);
      } else {
        cart.forEach((item, idx) => {
          const wrapper = document.createElement("div");
          wrapper.className = "cart-item";

          const top = document.createElement("div");
          top.className = "cart-item-top";
          const title = document.createElement("div");
          title.textContent = item.name;
          const cat = document.createElement("div");
          cat.style.fontSize = "0.75rem";
          cat.style.color = "#9ca3af";
          cat.textContent =
            (currentLang === "he" ? "××¡×³ ×§×œ×™×œ: " : "Ø±Ù‚Ù… ÙƒÙ„ÙŠÙ„: ") +
            item.klilNumber;
          top.appendChild(title);
          top.appendChild(cat);
          wrapper.appendChild(top);

          const meta = document.createElement("div");
          meta.className = "cart-item-meta";
          meta.textContent =
            t[currentLang].colorLabel + ": " + displayColorLabel(item.color);
          wrapper.appendChild(meta);

          const actions = document.createElement("div");
          actions.className = "cart-item-actions";

          const qtyInput = document.createElement("input");
          qtyInput.type = "number";
          qtyInput.min = "1";
          qtyInput.value = String(item.quantity);
          qtyInput.addEventListener("change", () => {
            const val = parseInt(qtyInput.value, 10) || 1;
            cart[idx].quantity = val;
            updateCartCount();
            updateOrderPreview();
          });
          actions.appendChild(qtyInput);

          const remove = document.createElement("button");
          remove.textContent = t[currentLang].remove;
          remove.addEventListener("click", () => {
            cart.splice(idx, 1);
            renderCart();
          });
          actions.appendChild(remove);

          wrapper.appendChild(actions);
          els.cartBody.appendChild(wrapper);
        });
      }
      updateCartCount();
      updateOrderPreview();
    }

    function openCart() {
      els.cartPanel.classList.add("open");
    }
    function closeCart() {
      els.cartPanel.classList.remove("open");
    }

    function generateOrderId() {
      const now = new Date();
      const y = now.getFullYear();
      const m = String(now.getMonth() + 1).padStart(2, "0");
      const d = String(now.getDate()).padStart(2, "0");
      const h = String(now.getHours()).padStart(2, "0");
      const min = String(now.getMinutes()).padStart(2, "0");
      const s = String(now.getSeconds()).padStart(2, "0");
      return `ZMR-${y}${m}${d}-${h}${min}${s}`;
    }

    function buildOrderBodyHebrew(orderId, customer, notes) {
      let lines = [];
      lines.push("×”×–×× ×” ×—×“×©×” ×××œ×•××™× ×™×•× ×–××¨");
      lines.push("××¡×¤×¨ ×”×–×× ×”: " + orderId);
      lines.push("");
      lines.push("×¤×¨×˜×™ ×œ×§×•×—:");
      lines.push("×©×: " + customer.name);
      lines.push("×˜×œ×¤×•×Ÿ: " + customer.phone);
      lines.push("×›×ª×•×‘×ª: " + customer.address);
      if (customer.email) lines.push("××™××™×™×œ: " + customer.email);
      lines.push("");
      lines.push("××•×¦×¨×™×:");
      cart.forEach((item, idx) => {
        lines.push(
          `${idx + 1}. ${item.name} | ××¡×³ ×§×œ×™×œ: ${item.klilNumber} | ×§×˜×’×•×¨×™×”: ${
            item.category
          } | ×¦×‘×¢: ${displayColorLabel(item.color)} | ×›××•×ª: ${item.quantity}`
        );
      });
      lines.push("");
      lines.push("×¡×”×´×› ×¤×¨×™×˜×™×: " + cart.reduce((s, i) => s + i.quantity, 0));
      lines.push("");
      if (notes) {
        lines.push("×”×¢×¨×•×ª ×œ×”×–×× ×”:");
        lines.push(notes);
        lines.push("");
      }
      lines.push("×©×™××• ×œ×‘: ××™×Ÿ ××—×™×¨×™× ×‘×”×–×× ×” ×–×• â€“ × ×™×¦×•×¨ ×§×©×¨ ×œ×—×™×©×•×‘ ×•×”×¦×¢×ª ××—×™×¨.");
      return lines.join("\n");
    }

    function buildOrderBodyArabic(orderId, customer, notes) {
      let lines = [];
      lines.push("Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø£Ù„Ù…Ù†ÙŠÙˆÙ… Ø²Ù…Ø±");
      lines.push("Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: " + orderId);
      lines.push("");
      lines.push("Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†:");
      lines.push("Ø§Ù„Ø§Ø³Ù…: " + customer.name);
      lines.push("Ø§Ù„Ù‡Ø§ØªÙ: " + customer.phone);
      lines.push("Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: " + customer.address);
      if (customer.email) lines.push("Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„: " + customer.email);
      lines.push("");
      lines.push("Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:");
      cart.forEach((item, idx) => {
        lines.push(
          `${idx + 1}. ${item.name} | Ø±Ù‚Ù… ÙƒÙ„ÙŠÙ„: ${item.klilNumber} | Ø§Ù„ÙØ¦Ø©: ${
            item.category
          } | Ø§Ù„Ù„ÙˆÙ†: ${displayColorLabel(item.color)} | Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}`
        );
      });
      lines.push("");
      lines.push("Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø·Ø¹: " + cart.reduce((s, i) => s + i.quantity, 0));
      lines.push("");
      if (notes) {
        lines.push("Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨:");
        lines.push(notes);
        lines.push("");
      });
      lines.push("ØªÙ†Ø¨ÙŠÙ‡: Ù…Ø§ ÙÙŠ Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ â€“ Ø±Ø­ Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù„Ù„ØªØ³Ø¹ÙŠØ±.");
      return lines.join("\n");
    }

    function updateOrderPreview() {
      const hasCart = cart.length > 0;
      const name = els.customerName.value.trim();
      const phone = els.customerPhone.value.trim();
      const address = els.customerAddress.value.trim();
      const email = els.customerEmail.value.trim();
      const notes = els.cartNotes.value.trim();

      if (!hasCart && !name && !phone && !address && !email && !notes) {
        els.orderPreview.textContent = "";
        const span = document.createElement("span");
        span.style.color = "#6b7280";
        span.style.fontSize = "0.8rem";
        span.textContent = t[currentLang].previewPlaceholder;
        els.orderPreview.appendChild(span);
        return;
      }

      const tempOrderId = "ZMR-PREVIEW";
      const heb = buildOrderBodyHebrew(tempOrderId, { name, phone, address, email }, notes);
      const ar = buildOrderBodyArabic(tempOrderId, { name, phone, address, email }, notes);

      els.orderPreview.textContent = heb + "\n\n---------------------\n\n" + ar;
    }

    async function handleSubmitOrder() {
      if (cart.length === 0) {
        alert(t[currentLang].validationCartEmpty);
        return;
      }
      const customer = {
        name: els.customerName.value.trim(),
        phone: els.customerPhone.value.trim(),
        address: els.customerAddress.value.trim(),
        email: els.customerEmail.value.trim()
      };
      if (!customer.name) {
        alert(t[currentLang].validationName);
        return;
      }
      if (!customer.phone) {
        alert(t[currentLang].validationPhone);
        return;
      }
      if (!customer.address) {
        alert(t[currentLang].validationAddress);
        return;
      }

      const notes = els.cartNotes.value.trim();
      const orderId = generateOrderId();
      const heb = buildOrderBodyHebrew(orderId, customer, notes);
      const ar = buildOrderBodyArabic(orderId, customer, notes);

      // Update preview with final text
      els.orderPreview.textContent = heb + "\n\n---------------------\n\n" + ar;

      const templateParams = {
        order_id: orderId,
        subject: t[currentLang].orderSubject(orderId),
        body_hebrew: heb,
        body_arabic: ar,
        customer_name: customer.name,
        customer_phone: customer.phone,
        customer_address: customer.address,
        customer_email: customer.email || "",
        send_copy: els.sendCopyCheckbox.checked ? "yes" : "no",
        language: currentLang,
        notes: notes
      };

      try {
        els.submitOrderBtn.disabled = true;
        els.submitOrderBtn.style.opacity = "0.7";

        await emailjs.send(
          "service_f9s0wca",
          "template_kifzvh5",
          templateParams
        );

        alert(t[currentLang].orderSuccessBody);
      } catch (err) {
        console.error("EmailJS error:", err);
        alert(t[currentLang].orderErrorBody);
      } finally {
        els.submitOrderBtn.disabled = false;
        els.submitOrderBtn.style.opacity = "";
      }
    }

    function applyTranslations() {
      const dict = t[currentLang];
      els.brandTitle.textContent = dict.brandTitle;
      els.brandSubtitle.textContent = dict.brandSubtitle;
      els.navProducts.textContent = dict.navProducts;
      els.navCheckout.textContent = dict.navCheckout;
      els.navContact.textContent = dict.navContact;
      els.navCatalog.textContent = dict.navCatalog;
      els.productsTitle.textContent = dict.productsTitle;
      els.productsSubtitle.textContent = dict.productsSubtitle;
      els.searchInput.placeholder = dict.searchPlaceholder;
      els.catalogButton.textContent = "ğŸ“˜ " + dict.catalogButton;
      els.cartButtonLabel.textContent = dict.cartButtonLabel;
      els.cartTitle.textContent = dict.cartTitle;
      els.cartItemsLabel.textContent = dict.cartItemsLabel;
      els.cartNoteLabel.textContent = dict.cartNoteLabel;
      els.goToCheckoutText.textContent = dict.goToCheckoutText;
      els.labelName.textContent = dict.labelName;
      els.labelPhone.textContent = dict.labelPhone;
      els.labelAddress.textContent = dict.labelAddress;
      els.labelEmail.textContent = dict.labelEmail;
      els.labelSendCopy.textContent = dict.labelSendCopy;
      els.checkoutTitle.textContent = dict.checkoutTitle;
      els.checkoutSubtitle.textContent = dict.checkoutSubtitle;
      els.noPaymentText.textContent = dict.noPaymentText;
      els.submitOrderText.textContent = dict.submitOrderText;
      els.previewTitle.textContent = dict.previewTitle;
      els.contactTitle.textContent = dict.contactTitle;
      els.contactSubtitle.textContent = dict.contactSubtitle;
      els.contactAddress.textContent = dict.contactAddress;
      els.contactPhoneLabel.textContent = dict.contactPhoneLabel;
      els.contactWaze.textContent = dict.contactWaze;

      initCategoryFilter();
      renderProducts();
      renderCart();
    }

    document.addEventListener("DOMContentLoaded", () => {
      initCategoryFilter();
      renderProducts();
      renderCart();

      els.searchInput.addEventListener("input", renderProducts);
      els.categoryFilter.addEventListener("change", renderProducts);

      els.openCartBtn.addEventListener("click", openCart);
      els.closeCartBtn.addEventListener("click", closeCart);
      els.goToCheckoutBtn.addEventListener("click", () => {
        closeCart();
        document.getElementById("checkout").scrollIntoView({ behavior: "smooth" });
      });

      els.languageSelect.addEventListener("change", () => {
        currentLang = els.languageSelect.value;
        applyTranslations();
      });

      ["customerName","customerPhone","customerAddress","customerEmail","cartNotes"].forEach(
        (id) => {
          $(id).addEventListener("input", updateOrderPreview);
        }
      );

      els.submitOrderBtn.addEventListener("click", (e) => {
        e.preventDefault();
        handleSubmitOrder();
      });

      applyTranslations();
    });
  </script>
</body>
</html>
